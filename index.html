<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photography 101 - Assignment Grading System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #f5f7fa;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .student-info {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .student-info input {
            width: 100%;
            padding: 10px;
            margin: 5px 0;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 16px;
        }

        .photo-section {
            background: white;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            transition: transform 0.2s;
        }

        .photo-section:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }

        .photo-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .photo-title {
            font-size: 1.5rem;
            color: #667eea;
            font-weight: 600;
        }

        .score-input {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .score-input input {
            width: 60px;
            padding: 8px;
            border: 2px solid #667eea;
            border-radius: 5px;
            font-size: 18px;
            text-align: center;
            font-weight: bold;
        }

        .criteria-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .criteria-box {
            padding: 15px;
            border-radius: 8px;
            background: #f8f9fa;
        }

        .criteria-box.good {
            background: #e7f5e7;
            border-left: 4px solid #28a745;
        }

        .criteria-box.improve {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }

        .criteria-box h4 {
            margin-bottom: 10px;
            color: #333;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            margin: 8px 0;
            cursor: pointer;
            transition: background 0.2s;
            padding: 5px;
            border-radius: 5px;
        }

        .checkbox-item:hover {
            background: rgba(0,0,0,0.05);
        }

        .checkbox-item input[type="checkbox"] {
            margin-right: 10px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .comment-section {
            margin-top: 20px;
        }

        .comment-section textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            resize: vertical;
            min-height: 100px;
            font-size: 14px;
        }

        .quick-comments {
            margin-top: 10px;
        }

        .quick-comment-btn {
            background: #e9ecef;
            border: none;
            padding: 8px 15px;
            margin: 5px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .quick-comment-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
        }

        .reflection-section {
            background: white;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .reflection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }

        .reflection-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
        }

        .reflection-item input {
            width: 60px;
            padding: 5px;
            border: 1px solid #ddd;
            border-radius: 3px;
            text-align: center;
        }

        .final-grade {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            text-align: center;
        }

        .grade-display {
            font-size: 3rem;
            font-weight: bold;
            color: #667eea;
            margin: 20px 0;
        }

        .grade-descriptor {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
            margin-top: 20px;
            text-align: left;
        }

        .descriptor-item {
            padding: 10px;
            border-radius: 5px;
            font-size: 14px;
        }

        .descriptor-item.active {
            background: #667eea;
            color: white;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-primary:hover {
            background: #5a54d8;
            transform: translateY(-2px);
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .btn-success {
            background: #28a745;
            color: white;
        }

        .btn-success:hover {
            background: #218838;
        }

        @media (max-width: 768px) {
            .criteria-section {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .action-buttons {
                flex-direction: column;
            }
        }

        @media print {
            .btn, .quick-comment-btn {
                display: none;
            }
            
            .photo-section, .reflection-section, .final-grade {
                break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>📸 Photography 101 - Assignment 1: Photographic Techniques</h1>
            <p>Comprehensive Grading System</p>
        </div>

        <div class="student-info">
            <h3>Student Information</h3>
            <input type="text" id="studentName" placeholder="Student Name">
            <input type="text" id="studentId" placeholder="Student ID">
            <input type="date" id="gradingDate" value="">
        </div>

        <!-- Photo 1: Long Exposure -->
        <div class="photo-section">
            <div class="photo-header">
                <h3 class="photo-title">📷 Photo 1 - Long Exposure</h3>
                <div class="score-input">
                    <label>Score:</label>
                    <input type="number" id="photo1Score" min="0" max="20" value="0">
                    <span>/ 20</span>
                </div>
            </div>

            <div class="criteria-section">
                <div class="criteria-box good">
                    <h4>✅ Good Points</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-good" value="Captures smooth motion beautifully">
                        Captures smooth motion beautifully
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-good" value="Balanced exposure across highlights and shadows">
                        Balanced exposure across highlights and shadows
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-good" value="Effective use of tripod or stabilization">
                        Effective use of tripod or stabilization
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-good" value="Composition enhances light trails/movement">
                        Composition enhances light trails/movement
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-good" value="Creative subject selection for long exposure">
                        Creative subject selection for long exposure
                    </label>
                </div>

                <div class="criteria-box improve">
                    <h4>❌ Needs Improvement</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-improve" value="Motion blur is unintentional or distracting">
                        Motion blur is unintentional or distracting
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-improve" value="Image is underexposed or overexposed">
                        Image is underexposed or overexposed
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-improve" value="Camera shake reduces clarity">
                        Camera shake reduces clarity
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-improve" value="Subject lacks interest or clarity">
                        Subject lacks interest or clarity
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo1-improve" value="Needs better control of light sources">
                        Needs better control of light sources
                    </label>
                </div>
            </div>

            <div class="comment-section">
                <h4>💬 Comments</h4>
                <textarea id="photo1Comments" placeholder="Add detailed feedback..."></textarea>
                <div class="quick-comments">
                    <button class="quick-comment-btn" onclick="addQuickComment('photo1Comments', 'Great job capturing the movement – it adds energy to the image.')">Movement Energy</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo1Comments', 'Try adjusting the exposure time to balance highlights more evenly.')">Exposure Balance</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo1Comments', 'The tripod use here really helped with sharpness.')">Tripod Success</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo1Comments', 'Consider using a stronger focal point to guide the viewer\'s eye.')">Focal Point</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo1Comments', 'Watch for overexposed light streaks that can dominate the scene.')">Light Control</button>
                </div>
            </div>
        </div>

        <!-- Photo 2: Short Exposure -->
        <div class="photo-section">
            <div class="photo-header">
                <h3 class="photo-title">📷 Photo 2 - Short Exposure</h3>
                <div class="score-input">
                    <label>Score:</label>
                    <input type="number" id="photo2Score" min="0" max="20" value="0">
                    <span>/ 20</span>
                </div>
            </div>

            <div class="criteria-section">
                <div class="criteria-box good">
                    <h4>✅ Good Points</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-good" value="Crisp, sharp capture of fast motion">
                        Crisp, sharp capture of fast motion
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-good" value="Strong sense of timing in the shot">
                        Strong sense of timing in the shot
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-good" value="Well-exposed highlights and shadows">
                        Well-exposed highlights and shadows
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-good" value="Background separation enhances subject">
                        Background separation enhances subject
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-good" value="Good use of light for clarity">
                        Good use of light for clarity
                    </label>
                </div>

                <div class="criteria-box improve">
                    <h4>❌ Needs Improvement</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-improve" value="Image lacks sharp focus">
                        Image lacks sharp focus
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-improve" value="Exposure settings too dark or too bright">
                        Exposure settings too dark or too bright
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-improve" value="Subject motion feels static or awkward">
                        Subject motion feels static or awkward
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-improve" value="Poor timing affects impact of image">
                        Poor timing affects impact of image
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo2-improve" value="Distracting background elements">
                        Distracting background elements
                    </label>
                </div>
            </div>

            <div class="comment-section">
                <h4>💬 Comments</h4>
                <textarea id="photo2Comments" placeholder="Add detailed feedback..."></textarea>
                <div class="quick-comments">
                    <button class="quick-comment-btn" onclick="addQuickComment('photo2Comments', 'Excellent timing – the motion freeze is impressive.')">Timing Success</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo2Comments', 'Try a faster shutter speed to eliminate blur.')">Shutter Speed</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo2Comments', 'Lighting is clean and adds definition.')">Good Lighting</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo2Comments', 'Think about your background – does it help or distract?')">Background Check</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo2Comments', 'Improve focus to bring more clarity to the main subject.')">Focus Clarity</button>
                </div>
            </div>
        </div>

        <!-- Photo 3: Large Aperture -->
        <div class="photo-section">
            <div class="photo-header">
                <h3 class="photo-title">📷 Photo 3 - Large Aperture (Same subject as #4)</h3>
                <div class="score-input">
                    <label>Score:</label>
                    <input type="number" id="photo3Score" min="0" max="20" value="0">
                    <span>/ 20</span>
                </div>
            </div>

            <div class="criteria-section">
                <div class="criteria-box good">
                    <h4>✅ Good Points</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-good" value="Strong subject-background separation">
                        Strong subject-background separation
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-good" value="Beautiful depth of field effect">
                        Beautiful depth of field effect
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-good" value="Good use of bokeh to enhance mood">
                        Good use of bokeh to enhance mood
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-good" value="Focused point is clear and intentional">
                        Focused point is clear and intentional
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-good" value="Composition suits shallow focus style">
                        Composition suits shallow focus style
                    </label>
                </div>

                <div class="criteria-box improve">
                    <h4>❌ Needs Improvement</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-improve" value="Focus point unclear or misplaced">
                        Focus point unclear or misplaced
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-improve" value="Bokeh effect is too distracting or inconsistent">
                        Bokeh effect is too distracting or inconsistent
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-improve" value="Exposure is too shallow to tell the story">
                        Exposure is too shallow to tell the story
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-improve" value="Aperture not wide enough for desired effect">
                        Aperture not wide enough for desired effect
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo3-improve" value="Subject gets lost in depth of field">
                        Subject gets lost in depth of field
                    </label>
                </div>
            </div>

            <div class="comment-section">
                <h4>💬 Comments</h4>
                <textarea id="photo3Comments" placeholder="Add detailed feedback..."></textarea>
                <div class="quick-comments">
                    <button class="quick-comment-btn" onclick="addQuickComment('photo3Comments', 'The shallow depth of field gives your subject strong presence.')">DOF Presence</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo3Comments', 'Focus could be more deliberate on the subject\'s key features.')">Focus Placement</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo3Comments', 'Nice bokeh – watch for shape and consistency.')">Bokeh Quality</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo3Comments', 'Try getting closer for more dramatic background blur.')">Closer Distance</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo3Comments', 'Check your aperture setting – wider could help isolate the subject.')">Aperture Setting</button>
                </div>
            </div>
        </div>

        <!-- Photo 4: Small Aperture -->
        <div class="photo-section">
            <div class="photo-header">
                <h3 class="photo-title">📷 Photo 4 - Small Aperture (Same subject as #3)</h3>
                <div class="score-input">
                    <label>Score:</label>
                    <input type="number" id="photo4Score" min="0" max="20" value="0">
                    <span>/ 20</span>
                </div>
            </div>

            <div class="criteria-section">
                <div class="criteria-box good">
                    <h4>✅ Good Points</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-good" value="Great depth with foreground to background detail">
                        Great depth with foreground to background detail
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-good" value="Consistent sharpness throughout image">
                        Consistent sharpness throughout image
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-good" value="Composition uses full depth of field creatively">
                        Composition uses full depth of field creatively
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-good" value="Image feels complete and well-balanced">
                        Image feels complete and well-balanced
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-good" value="Excellent control of focus range">
                        Excellent control of focus range
                    </label>
                </div>

                <div class="criteria-box improve">
                    <h4>❌ Needs Improvement</h4>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-improve" value="Too much detail causes visual clutter">
                        Too much detail causes visual clutter
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-improve" value="Image lacks a clear focal point">
                        Image lacks a clear focal point
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-improve" value="Exposure could be improved in darker areas">
                        Exposure could be improved in darker areas
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-improve" value="Aperture may not be small enough">
                        Aperture may not be small enough
                    </label>
                    <label class="checkbox-item">
                        <input type="checkbox" name="photo4-improve" value="Visual elements compete for attention">
                        Visual elements compete for attention
                    </label>
                </div>
            </div>

            <div class="comment-section">
                <h4>💬 Comments</h4>
                <textarea id="photo4Comments" placeholder="Add detailed feedback..."></textarea>
                <div class="quick-comments">
                    <button class="quick-comment-btn" onclick="addQuickComment('photo4Comments', 'Good control of full-scene sharpness – everything is in focus.')">Full Sharpness</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo4Comments', 'Try simplifying your composition to reduce visual noise.')">Simplify Comp</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo4Comments', 'Strong use of small aperture to show depth.')">Depth Control</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo4Comments', 'Watch that the subject still stands out despite all the detail.')">Subject Focus</button>
                    <button class="quick-comment-btn" onclick="addQuickComment('photo4Comments', 'Great demonstration of how aperture affects clarity.')">Aperture Demo</button>
                </div>
            </div>
        </div>

        <!-- Reflection & Presentation -->
        <div class="reflection-section">
            <h3>✍️ Reflection & Presentation (17 pts)</h3>
            <div class="reflection-grid">
                <div class="reflection-item">
                    <label>Reflection Statement:</label>
                    <input type="number" id="reflectionScore" min="0" max="5" value="0"> / 5
                </div>
                <div class="reflection-item">
                    <label>Behind the Scenes:</label>
                    <input type="number" id="btsScore" min="0" max="5" value="0"> / 5
                </div>
                <div class="reflection-item">
                    <label>File Submission & Labeling:</label>
                    <input type="number" id="fileScore" min="0" max="3" value="0"> / 3
                </div>
                <div class="reflection-item">
                    <label>Language/Grammar:</label>
                    <input type="number" id="languageScore" min="0" max="2" value="0"> / 2
                </div>
                <div class="reflection-item">
                    <label>Visual Presentation:</label>
                    <input type="number" id="visualScore" min="0" max="2" value="0"> / 2
                </div>
            </div>
            <div class="comment-section">
                <h4>Reflection Comments</h4>
                <textarea id="reflectionComments" placeholder="Comments on reflection and presentation..."></textarea>
            </div>
        </div>

        <!-- Final Grade -->
        <div class="final-grade">
            <h3>🧮 Overall Grade</h3>
            <div class="grade-display" id="totalScore">0 / 100</div>
            <div id="gradeLevel" style="font-size: 1.5rem; margin-bottom: 20px;"></div>
            
            <div class="grade-descriptor">
                <div class="descriptor-item" id="hd-desc">
                    <strong>HD (85-100):</strong> Excellent command of exposure/aperture; creative intent very clear.
                </div>
                <div class="descriptor-item" id="di-desc">
                    <strong>DI (75-84):</strong> Strong technical and aesthetic control; minor improvement areas.
                </div>
                <div class="descriptor-item" id="cr-desc">
                    <strong>CR (65-74):</strong> Meets expectations; demonstrates understanding with flaws.
                </div>
                <div class="descriptor-item" id="pa-desc">
                    <strong>PA (50-64):</strong> Basic competency; needs more control/clarity.
                </div>
                <div class="descriptor-item" id="nn-desc">
                    <strong>NN (&lt;50):</strong> Below expectations; resubmission or further review needed.
                </div>
            </div>

            <div class="comment-section">
                <h4>Final Comments</h4>
                <textarea id="finalComments" placeholder="Overall feedback and recommendations..."></textarea>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-primary" onclick="calculateTotal()">Calculate Grade</button>
            <button class="btn btn-secondary" onclick="generateReport()">Generate Report</button>
            <button class="btn btn-success" onclick="saveGrade()">Save Grade</button>
            <button class="btn btn-secondary" onclick="resetForm()">Reset Form</button>
        </div>
    </div>

    <script>
        // Set today's date
        document.getElementById('gradingDate').value = new Date().toISOString().split('T')[0];

        // Auto-calculate on input change
        document.querySelectorAll('input[type="number"]').forEach(input => {
            input.addEventListener('input', calculateTotal);
        });

        function addQuickComment(textareaId, comment) {
            const textarea = document.getElementById(textareaId);
            if (textarea.value) {
                textarea.value += ' ' + comment;
            } else {
                textarea.value = comment;
            }
        }

        function calculateTotal() {
            const photo1 = parseInt(document.getElementById('photo1Score').value) || 0;
            const photo2 = parseInt(document.getElementById('photo2Score').value) || 0;
            const photo3 = parseInt(document.getElementById('photo3Score').value) || 0;
            const photo4 = parseInt(document.getElementById('photo4Score').value) || 0;
            
            const reflection = parseInt(document.getElementById('reflectionScore').value) || 0;
            const bts = parseInt(document.getElementById('btsScore').value) || 0;
            const file = parseInt(document.getElementById('fileScore').value) || 0;
            const language = parseInt(document.getElementById('languageScore').value) || 0;
            const visual = parseInt(document.getElementById('visualScore').value) || 0;
            
            const photoTotal = photo1 + photo2 + photo3 + photo4;
            const reflectionTotal = reflection + bts + file + language + visual;
            const total = photoTotal + reflectionTotal;
            
            document.getElementById('totalScore').textContent = `${total} / 100`;
            
            // Update grade level
            let gradeLevel = '';
            let gradeColor = '';
            
            // Clear all active classes
            document.querySelectorAll('.descriptor-item').forEach(item => {
                item.classList.remove('active');
            });
            
            if (total >= 85) {
                gradeLevel = 'High Distinction (HD)';
                gradeColor = '#28a745';
                document.getElementById('hd-desc').classList.add('active');
            } else if (total >= 75) {
                gradeLevel = 'Distinction (DI)';
                gradeColor = '#17a2b8';
                document.getElementById('di-desc').classList.add('active');
            } else if (total >= 65) {
                gradeLevel = 'Credit (CR)';
                gradeColor = '#ffc107';
                document.getElementById('cr-desc').classList.add('active');
            } else if (total >= 50) {
                gradeLevel = 'Pass (PA)';
                gradeColor = '#fd7e14';
                document.getElementById('pa-desc').classList.add('active');
            } else {
                gradeLevel = 'Not Yet Competent (NN)';
                gradeColor = '#dc3545';
                document.getElementById('nn-desc').classList.add('active');
            }
            
            const gradeLevelElement = document.getElementById('gradeLevel');
            gradeLevelElement.textContent = gradeLevel;
            gradeLevelElement.style.color = gradeColor;
        }

        function generateReport() {
            const studentName = document.getElementById('studentName').value || '[Student Name]';
            const studentId = document.getElementById('studentId').value || '[Student ID]';
            const date = document.getElementById('gradingDate').value;
            
            let report = `PHOTOGRAPHY 101 - ASSIGNMENT 1 GRADING REPORT\n`;
            report += `================================================\n\n`;
            report += `Student: ${studentName}\n`;
            report += `ID: ${studentId}\n`;
            report += `Date: ${date}\n\n`;
            
            // Photo scores
            report += `PHOTO SCORES:\n`;
            report += `--------------\n`;
            report += `Photo 1 (Long Exposure): ${document.getElementById('photo1Score').value}/20\n`;
            report += `Photo 2 (Short Exposure): ${document.getElementById('photo2Score').value}/20\n`;
            report += `Photo 3 (Large Aperture): ${document.getElementById('photo3Score').value}/20\n`;
            report += `Photo 4 (Small Aperture): ${document.getElementById('photo4Score').value}/20\n\n`;
            
            // Criteria selected
            ['photo1', 'photo2', 'photo3', 'photo4'].forEach((photo, index) => {
                report += `\nPHOTO ${index + 1} FEEDBACK:\n`;
                
                const goodPoints = Array.from(document.querySelectorAll(`input[name="${photo}-good"]:checked`))
                    .map(cb => cb.value);
                const improvePoints = Array.from(document.querySelectorAll(`input[name="${photo}-improve"]:checked`))
                    .map(cb => cb.value);
                const comments = document.getElementById(`${photo}Comments`).value;
                
                if (goodPoints.length > 0) {
                    report += `Good Points:\n`;
                    goodPoints.forEach(point => report += `- ${point}\n`);
                }
                
                if (improvePoints.length > 0) {
                    report += `Needs Improvement:\n`;
                    improvePoints.forEach(point => report += `- ${point}\n`);
                }
                
                if (comments) {
                    report += `Comments: ${comments}\n`;
                }
            });
            
            // Reflection scores
            report += `\nREFLECTION & PRESENTATION:\n`;
            report += `-------------------------\n`;
            report += `Reflection Statement: ${document.getElementById('reflectionScore').value}/5\n`;
            report += `Behind the Scenes: ${document.getElementById('btsScore').value}/5\n`;
            report += `File Submission: ${document.getElementById('fileScore').value}/3\n`;
            report += `Language/Grammar: ${document.getElementById('languageScore').value}/2\n`;
            report += `Visual Presentation: ${document.getElementById('visualScore').value}/2\n`;
            
            if (document.getElementById('reflectionComments').value) {
                report += `Comments: ${document.getElementById('reflectionComments').value}\n`;
            }
            
            // Final grade
            const totalScore = parseInt(document.getElementById('totalScore').textContent.split('/')[0]);
            report += `\nFINAL GRADE: ${totalScore}/100 - ${document.getElementById('gradeLevel').textContent}\n`;
            
            if (document.getElementById('finalComments').value) {
                report += `\nFinal Comments:\n${document.getElementById('finalComments').value}\n`;
            }
            
            // Download report
            const blob = new Blob([report], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${studentName.replace(/\s+/g, '_')}_${studentId}_grading_report.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }

        function saveGrade() {
            const studentName = document.getElementById('studentName').value;
            const studentId = document.getElementById('studentId').value;
            
            if (!studentName || !studentId) {
                alert('Please enter student name and ID before saving.');
                return;
            }
            
            const gradeData = {
                studentName: studentName,
                studentId: studentId,
                date: document.getElementById('gradingDate').value,
                scores: {
                    photo1: document.getElementById('photo1Score').value,
                    photo2: document.getElementById('photo2Score').value,
                    photo3: document.getElementById('photo3Score').value,
                    photo4: document.getElementById('photo4Score').value,
                    reflection: document.getElementById('reflectionScore').value,
                    bts: document.getElementById('btsScore').value,
                    file: document.getElementById('fileScore').value,
                    language: document.getElementById('languageScore').value,
                    visual: document.getElementById('visualScore').value
                },
                criteria: {},
                comments: {
                    photo1: document.getElementById('photo1Comments').value,
                    photo2: document.getElementById('photo2Comments').value,
                    photo3: document.getElementById('photo3Comments').value,
                    photo4: document.getElementById('photo4Comments').value,
                    reflection: document.getElementById('reflectionComments').value,
                    final: document.getElementById('finalComments').value
                },
                totalScore: parseInt(document.getElementById('totalScore').textContent.split('/')[0]),
                gradeLevel: document.getElementById('gradeLevel').textContent
            };
            
            // Collect checked criteria
            ['photo1', 'photo2', 'photo3', 'photo4'].forEach(photo => {
                gradeData.criteria[photo] = {
                    good: Array.from(document.querySelectorAll(`input[name="${photo}-good"]:checked`))
                        .map(cb => cb.value),
                    improve: Array.from(document.querySelectorAll(`input[name="${photo}-improve"]:checked`))
                        .map(cb => cb.value)
                };
            });
            
            // Save to localStorage
            const savedGrades = JSON.parse(localStorage.getItem('photo101Grades') || '[]');
            savedGrades.push(gradeData);
            localStorage.setItem('photo101Grades', JSON.stringify(savedGrades));
            
            // Also save as JSON file
            const jsonBlob = new Blob([JSON.stringify(gradeData, null, 2)], { type: 'application/json' });
            const url = window.URL.createObjectURL(jsonBlob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `${studentName.replace(/\s+/g, '_')}_${studentId}_grade.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
            
            alert('Grade saved successfully!');
        }

        function resetForm() {
            if (confirm('Are you sure you want to reset all fields? This cannot be undone.')) {
                document.getElementById('studentName').value = '';
                document.getElementById('studentId').value = '';
                document.getElementById('gradingDate').value = new Date().toISOString().split('T')[0];
                
                // Reset all number inputs
                document.querySelectorAll('input[type="number"]').forEach(input => {
                    input.value = '0';
                });
                
                // Uncheck all checkboxes
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                    cb.checked = false;
                });
                
                // Clear all textareas
                document.querySelectorAll('textarea').forEach(textarea => {
                    textarea.value = '';
                });
                
                calculateTotal();
            }
        }

        // Load saved grades on page load (optional feature)
        function loadSavedGrades() {
            const savedGrades = JSON.parse(localStorage.getItem('photo101Grades') || '[]');
            if (savedGrades.length > 0) {
                console.log(`Found ${savedGrades.length} saved grades in localStorage`);
            }
        }

        // Initialize
        calculateTotal();
        loadSavedGrades();
    </script>
</body>
</html>